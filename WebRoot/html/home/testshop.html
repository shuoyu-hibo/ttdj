<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>test</title>
<script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
<script src="https://raw.github.com/carhartl/jquery-cookie/master/jquery.cookie.js"></script>
<script type="text/javascript">
    function addCookie(id){
        $.cookie.raw = true;
        if(typeof($.cookie('ids')) == 'undefined'){
            $.cookie('ids', id, {expires: 7});
        }else{
            var ids = [];
            if($.cookie('ids').indexOf(id) == -1){
                $.cookie('ids', $.cookie('ids')+","+id, {expires: 7});
            }
            ids = $.cookie('ids').split(',');
            if(ids.length > 5){
                ids.shift();
            }
            $.cookie('ids',ids.join(','), {expires: 7});
        }
        $("#r").html("result="+ $.cookie('ids'));
    }
     
    function removeCookie(){
        $.removeCookie('ids');
    }
</script>
</head>
<body>
    <div id="r"></div>
    <div>
        <a href="javascript:void(0)" onclick="removeCookie();">delete</a>
    </div>
    <ul>
        <li style="margin-bottom:2px"><a id="1" href="javascript:void(0)" onclick="addCookie(this.id);">1</a></li>
        <li style="margin-bottom:2px"><a id="2" href="javascript:void(0)" onclick="addCookie(this.id);">2</a></li>
        <li style="margin-bottom:2px"><a id="3" href="javascript:void(0)" onclick="addCookie(this.id);">3</a></li>
        <li style="margin-bottom:2px"><a id="4" href="javascript:void(0)" onclick="addCookie(this.id);">4</a></li>
        <li style="margin-bottom:2px"><a id="5" href="javascript:void(0)" onclick="addCookie(this.id);">5</a></li>
        <li style="margin-bottom:2px"><a id="6" href="javascript:void(0)" onclick="addCookie(this.id);">6</a></li>
        <li style="margin-bottom:2px"><a id="7" href="javascript:void(0)" onclick="addCookie(this.id);">7</a></li>
        <li style="margin-bottom:2px"><a id="8" href="javascript:void(0)" onclick="addCookie(this.id);">8</a></li>
        <li style="margin-bottom:2px"><a id="9" href="javascript:void(0)" onclick="addCookie(this.id);">9</a></li>
        <li style="margin-bottom:2px"><a id="10" href="javascript:void(0)" onclick="addCookie(this.id);">10</a></li>
    </ul>
</body>
</html>
